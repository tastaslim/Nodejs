{"version":3,"file":"util.js","sourceRoot":"","sources":["../src/util.ts"],"names":[],"mappings":";;AAEA,2CAAoH;AAEpH,SAAgB,uCAAuC,CAAC,OAAe;IACnE,MAAM,MAAM,GAAG,EAAE,CAAC;IAClB,MAAM,CAAC,4CAAgC,CAAC,GAAG;QACvC,WAAW,EAAE,EAAE,GAAG,OAAO;QACzB,QAAQ,EAAE,QAAQ;KACrB,CAAC;IACF,OAAO,MAAM,CAAC;AAClB,CAAC;AAPD,0FAOC;AAED,SAAgB,cAAc,CAAC,aAA4B;IACvD,OAAO,IAAI,CAAC,SAAS,CAAC;QAClB,SAAS,EAAE,aAAa;KACZ,CAAC,CAAC;AACtB,CAAC;AAJD,wCAIC;AAED,SAAgB,uCAAuC,CAAC,aAA4B;IAChF,OAAO,IAAI,CAAC,SAAS,CACjB,CAAC,+DAAmD,EAAE;YAClD,YAAY,EAAE,aAAa,CAAC,MAAM;YAClC,KAAK,EAAE,aAAa,CAAC,GAAG;SAC3B,CAA2B,CAAC,CAAC;AACtC,CAAC;AAND,0FAMC","sourcesContent":["import { MessageAttributeMap } from 'aws-sdk/clients/sns';\nimport { S3PayloadMeta, PayloadMeta, SqsExtendedPayloadMeta } from './types';\nimport { AMAZON_EXTENDED_CLIENT_PAYLOAD_OFFLOADING_REFERENCE, SQS_LARGE_PAYLOAD_SIZE_ATTRIBUTE } from './constants';\n\nexport function createExtendedCompatibilityAttributeMap(msgSize: number): MessageAttributeMap {\n    const result = {};\n    result[SQS_LARGE_PAYLOAD_SIZE_ATTRIBUTE] = {\n        StringValue: '' + msgSize,\n        DataType: 'Number',\n    };\n    return result;\n}\n\nexport function buildS3Payload(s3PayloadMeta: S3PayloadMeta): string {\n    return JSON.stringify({\n        S3Payload: s3PayloadMeta,\n    } as PayloadMeta);\n}\n\nexport function buildS3PayloadWithExtendedCompatibility(s3PayloadMeta: S3PayloadMeta): string {\n    return JSON.stringify(\n        [AMAZON_EXTENDED_CLIENT_PAYLOAD_OFFLOADING_REFERENCE, {\n            s3BucketName: s3PayloadMeta.Bucket,\n            s3Key: s3PayloadMeta.Key,\n        }] as SqsExtendedPayloadMeta);\n}\n"]}